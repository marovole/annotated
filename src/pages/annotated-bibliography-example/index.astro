---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ExampleCard from '../../components/ExampleCard.astro';
import FormatSwitch from '../../components/FormatSwitch.astro';
import SourceTypeCard from '../../components/SourceTypeCard.astro';
import FAQ from '../../components/FAQ.astro';
import Breadcrumb from '../../components/Breadcrumb.astro';
import CopyButton from '../../components/CopyButton.astro';
import { mlaExamples } from '../../data/examples';
import { faqs } from '../../data/faqs';
import { sourceTypeConfig } from '../../lib/types';

const featuredExamples = [
  mlaExamples.find(e => e.sourceType === 'journal-article'),
  mlaExamples.find(e => e.sourceType === 'book'),
  mlaExamples.find(e => e.sourceType === 'website')
].filter((e): e is typeof mlaExamples[0] => !!e);

const pillarFaqs = faqs.filter(f => f.page === 'pillar').sort((a, b) => a.order - b.order);

const breadcrumbs = [
  { label: 'Home', href: '/' },
  { label: 'Annotated Bibliography Example', href: '/annotated-bibliography-example/' },
];

const sourceTypes: (keyof typeof sourceTypeConfig)[] = ['journal-article', 'book', 'website'];

const summaryTemplate = `This article/book examines [main topic] through [methodology/approach]. The author(s) argue that [main argument/thesis]. Key findings include [2-3 major points]. The study draws on [type of evidence/sources] to support its conclusions. This source provides valuable context for understanding [broader topic].`;

const evaluationTemplate = `[Author] presents a [compelling/thorough/limited] analysis of [topic]. The research methodology is [rigorous/questionable] because [specific reason]. A key strength is [positive aspect], while a limitation is [weakness or gap]. The author's expertise in [field] lends credibility to the argument. This source is [highly useful/somewhat useful] for [specific purpose] because [reason].`;

const reflectionTemplate = `This source significantly shaped my understanding of [topic] by [specific insight]. Reading it challenged my previous assumption that [prior belief]. I plan to use this source to [specific application in research]. The author's perspective on [specific point] connects to my research question about [your question]. This work will help me argue that [your thesis element].`;

const title = "Annotated Bibliography Example (MLA, APA 7 & Chicago) | annotated.help";
const description = "See annotated bibliography examples in MLA, APA 7, and Chicago styles. Copy and paste free templates for journals, books, and websites.";
---

<BaseLayout title={title} description={description} pageType="pillar">
  <Breadcrumb items={breadcrumbs} />

  <h1 class="text-4xl font-extrabold tracking-tight text-slate-900 sm:text-5xl mb-6">
    Annotated Bibliography Example (MLA, APA 7, Chicago)
  </h1>
  
  <p class="text-lg text-slate-600 mb-8 max-w-3xl">
    Browse our collection of annotated bibliography examples for the most common citation styles. 
    Find properly formatted samples for journals, books, websites, and more.
  </p>

  <FormatSwitch currentFormat="mla" />

  <div class="space-y-12">
    <section>
      <h2 class="text-2xl font-bold text-slate-900 mb-6">Featured Examples</h2>
      <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        {featuredExamples.map(example => (
          <ExampleCard example={example} />
        ))}
      </div>
    </section>

    <section>
      <h2 class="text-2xl font-bold text-slate-900 mb-6">Browse by Source Type</h2>
      <div class="grid gap-4 grid-cols-2 sm:grid-cols-3">
        {sourceTypes.map(type => (
          <SourceTypeCard format="annotated-bibliography-example/mla" sourceType={type} />
        ))}
      </div>
    </section>

    <section>
      <h2 class="text-2xl font-bold text-slate-900 mb-6">Annotation Templates</h2>
      <p class="text-slate-600 mb-6">Use these templates as a starting point for your annotations. Each template follows a different approach.</p>
      
      <div class="space-y-6">
        <div class="bg-blue-50 border border-blue-100 rounded-xl p-6">
          <div class="flex items-center justify-between mb-3">
            <h3 class="text-lg font-bold text-blue-900">Summary Annotation</h3>
            <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded">Most Common</span>
          </div>
          <p class="text-sm text-blue-800 mb-4">Describes the main arguments, methods, and conclusions of the source.</p>
          <div class="bg-white rounded-lg p-4 border border-blue-200 text-sm text-slate-700 font-mono whitespace-pre-wrap">{summaryTemplate}</div>
          <div class="mt-3">
            <CopyButton text={summaryTemplate} label="Copy Template" />
          </div>
        </div>

        <div class="bg-green-50 border border-green-100 rounded-xl p-6">
          <div class="flex items-center justify-between mb-3">
            <h3 class="text-lg font-bold text-green-900">Evaluation Annotation</h3>
            <span class="px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded">Critical Analysis</span>
          </div>
          <p class="text-sm text-green-800 mb-4">Assesses the source's credibility, relevance, accuracy, and quality.</p>
          <div class="bg-white rounded-lg p-4 border border-green-200 text-sm text-slate-700 font-mono whitespace-pre-wrap">{evaluationTemplate}</div>
          <div class="mt-3">
            <CopyButton text={evaluationTemplate} label="Copy Template" />
          </div>
        </div>

        <div class="bg-purple-50 border border-purple-100 rounded-xl p-6">
          <div class="flex items-center justify-between mb-3">
            <h3 class="text-lg font-bold text-purple-900">Reflection Annotation</h3>
            <span class="px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded">Personal Connection</span>
          </div>
          <p class="text-sm text-purple-800 mb-4">Explains how the source relates to your research and how you might use it.</p>
          <div class="bg-white rounded-lg p-4 border border-purple-200 text-sm text-slate-700 font-mono whitespace-pre-wrap">{reflectionTemplate}</div>
          <div class="mt-3">
            <CopyButton text={reflectionTemplate} label="Copy Template" />
          </div>
        </div>
      </div>
    </section>

    <section>
      <h2 class="text-2xl font-bold text-slate-900 mb-6">Common Mistakes to Avoid</h2>
      <div class="bg-red-50 border border-red-100 rounded-xl p-6">
        <ul class="space-y-3 text-red-800">
          <li class="flex items-start gap-3">
            <span class="text-red-500 font-bold">1.</span>
            <span><strong>Copying the abstract:</strong> Write your own summary instead of paraphrasing or copying the source's abstract.</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-red-500 font-bold">2.</span>
            <span><strong>Too short or too long:</strong> Keep annotations between 150-200 words unless your instructor specifies otherwise.</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-red-500 font-bold">3.</span>
            <span><strong>Wrong citation format:</strong> Double-check that your citation matches MLA, APA, or Chicago guidelines exactly.</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-red-500 font-bold">4.</span>
            <span><strong>Only summarizing:</strong> Most assignments require evaluation or reflection in addition to summary.</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-red-500 font-bold">5.</span>
            <span><strong>Inconsistent formatting:</strong> Use the same citation style throughout your entire bibliography.</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-red-500 font-bold">6.</span>
            <span><strong>Missing hanging indent:</strong> The second line onward should be indented 0.5 inches from the left margin.</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-red-500 font-bold">7.</span>
            <span><strong>Not connecting to research:</strong> Explain how each source relates to your specific research question or thesis.</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-red-500 font-bold">8.</span>
            <span><strong>Using unreliable sources:</strong> Academic work requires peer-reviewed journals, books, and reputable websites.</span>
          </li>
        </ul>
      </div>
    </section>

    <section>
      <h2 class="text-2xl font-bold text-slate-900 mb-6">Frequently Asked Questions</h2>
      <FAQ faqs={pillarFaqs} />
    </section>

    <section class="border-t border-slate-200 pt-10">
      <h2 class="text-2xl font-bold text-slate-900 mb-6">Related Guides & Examples</h2>
      <div class="grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
        <a href="/annotated-bibliography-example/mla/" class="text-blue-600 hover:underline font-medium">MLA Annotated Bibliography</a>
        <a href="/annotated-bibliography-example/apa-7/" class="text-blue-600 hover:underline font-medium">APA 7 Annotated Bibliography</a>
        <a href="/annotated-bibliography-example/chicago/" class="text-blue-600 hover:underline font-medium">Chicago Annotated Bibliography</a>
        <a href="/annotated-bibliography-examples/" class="text-blue-600 hover:underline font-medium">All Examples Directory</a>
        
        <a href="/annotated-bibliography-example/mla/journal-article/" class="text-slate-600 hover:text-blue-600 hover:underline">MLA Journal Article Examples</a>
        <a href="/annotated-bibliography-example/mla/book/" class="text-slate-600 hover:text-blue-600 hover:underline">MLA Book Examples</a>
        <a href="/annotated-bibliography-example/mla/website/" class="text-slate-600 hover:text-blue-600 hover:underline">MLA Website Examples</a>
        <a href="/annotated-bibliography-example/apa-7/journal-article/" class="text-slate-600 hover:text-blue-600 hover:underline">APA 7 Journal Examples</a>
        <a href="/annotated-bibliography-example/apa-7/book/" class="text-slate-600 hover:text-blue-600 hover:underline">APA 7 Book Examples</a>
        <a href="/annotated-bibliography-example/chicago/journal-article/" class="text-slate-600 hover:text-blue-600 hover:underline">Chicago Journal Examples</a>
        <a href="/annotated-bibliography-example/chicago/book/" class="text-slate-600 hover:text-blue-600 hover:underline">Chicago Book Examples</a>
        <a href="/annotated-bibliography-examples/#apa-7" class="text-slate-600 hover:text-blue-600 hover:underline">APA 7 Directory</a>
      </div>
    </section>
  </div>
</BaseLayout>
